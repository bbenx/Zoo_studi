<?php

namespace App\DataFixtures;

use App\Entity\Services;
use Doctrine\Bundle\FixturesBundle\Fixture;
use Doctrine\Persistence\ObjectManager;
use Doctrine\Persistence\ManagerRegistry;
use Faker\Factory;
use Doctrine\Common\DataFixtures\DependentFixtureInterface;

class ServicesFixtures extends Fixture implements DependentFixtureInterface
{
    private $doctrine;

    public function __construct(ManagerRegistry $doctrine)
    {
        $this->doctrine = $doctrine;
    }

    public function load(ObjectManager $manager): void
    {
        $faker = Factory::create('fr_FR');


            $services = new Services();
            $services->setEtablissement($this->getReference('etablissement_1'));
            $services->setNom('Restauration');
            $services->setDescription('Venez savourer une pause gourmande dans nos restaurants ! Que vous soyez amateur de plats traditionnels ou de nouvelles saveurs, nos menus variés sauront satisfaire toutes les envies. Profitez d\'un cadre convivial et détendu, idéal pour recharger vos batteries entre deux visites des animaux. Petits et grands, laissez-vous tenter par nos délicieux repas préparés avec des ingrédients frais et de qualité. Bon appétit !');

            $manager->persist($services);
            $this->addReference('service_1', $services);
            $manager->flush();

            $services2 = new Services();
            $services2->setEtablissement($this->getReference('etablissement_1'));
            $services2->setNom('Restauration');
            $services2->setDescription('Venez savourer une pause gourmande dans nos restaurants ! Que vous soyez amateur de plats traditionnels ou de nouvelles saveurs, nos menus variés sauront satisfaire toutes les envies. Profitez d\'un cadre convivial et détendu, idéal pour recharger vos batteries entre deux visites des animaux. Petits et grands, laissez-vous tenter par nos délicieux repas préparés avec des ingrédients frais et de qualité. Bon appétit !');

            $manager->persist($services2);
            $this->addReference('service_2', $services2);
            $manager->flush();

            $services3 = new Services();
            $services3->setEtablissement($this->getReference('etablissement_1'));
            $services3->setNom('Restauration');
            $services3->setDescription('Venez savourer une pause gourmande dans nos restaurants ! Que vous soyez amateur de plats traditionnels ou de nouvelles saveurs, nos menus variés sauront satisfaire toutes les envies. Profitez d\'un cadre convivial et détendu, idéal pour recharger vos batteries entre deux visites des animaux. Petits et grands, laissez-vous tenter par nos délicieux repas préparés avec des ingrédients frais et de qualité. Bon appétit !');

            $manager->persist($services3);
            $this->addReference('service_3', $services3);
            $manager->flush();
    }
    public function getDependencies()
    {
        return [
            AppFixtures::class,
        ];
    }
}
